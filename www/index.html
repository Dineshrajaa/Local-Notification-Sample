<!DOCTYPE html>
<html>
<head>
	<title>LN Sample</title>
	<meta charset="utf-8" />
		<link rel="stylesheet" type="text/css" href="css/jquery.mobile-1.4.5.css" />
        <script type="text/javascript" src="js/jquery-2.1.1.js"></script>
        <script type="text/javascript" src="js/jquery.mobile-1.4.5.js"></script>       
        <meta name="viewport" content="user-scalable=no, initial-scale=1, maximum-scale=1, minimum-scale=1, width=device-width, height=device-height, target-densitydpi=device-dpi" /> 
        <script type="text/javascript">
        
        $(document).ready(function(){
                
                
                document.addEventListener("deviceready",function(){

                        $("#adder").tap(function(){
                                var timer=$("#alertime").val();
                                var n_format_time = timeToNowGMT(timer);
			        var now = new Date();
			        var day = ("0" + now.getDate()).slice(-2);
			        var month = ("0" + (now.getMonth() + 1)).slice(-2)
			        var dateSplit = now.getFullYear()+'-'+month+'-'+day+'T'+n_format_time;
			        var newDate = new Date(dateSplit);
                                alert("Added "+ newDate);
                                window.plugin.notification.local.add({
                                        id:1,
                                        title:"Added Remainder",
                                        message:"This is an Test",
                                        date:newDate
                                });
                        });
                },false);
                
                function timeToNowGMT(value){
		        var time = value;
		        var hours = Number(time.match(/^(\d+)/)[1]);
		        var minutes = Number(time.match(/:(\d+)/)[1]);
		        if(hours>=24) hours = hours-24;
		        var sHours = hours.toString();
		        var sMinutes = minutes.toString();
		        if(hours<10) sHours = "0" + sHours;
		        if(minutes<10) sMinutes = "0" + sMinutes;
		        return(sHours + ":" + sMinutes + ":00");
		    }
                
        });
        
        
        </script> 
</head>
<body>
	<section id="home" data-role="page">
		<header data-role="header" data-theme="b" data-position="fixed">
			<h1>Local Notification Plugin</h1>
		</header>
		<article data-role="content">
			<input type="time" id="alertime" /><br /> <br />
			<input type="button" id="adder" value="Add Notification"  />
		</article>
		<footer data-role="footer" data-theme="b" data-position="fixed">
			<h1>&copy Reserved by Dinesh Raja</h1>
		</footer>
	</section>
        <script type="text/javascript" src="cordova.js"></script>
</body>
</html>
